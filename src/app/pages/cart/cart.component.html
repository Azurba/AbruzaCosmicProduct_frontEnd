<div style="background-color: whitesmoke;">
<div class="row">
    <div class="col-sm-12">
      <div class="row justify-content-center text-center" style="margin-bottom: 20px;">
        <h1 style="color: black;">Cart</h1>
      </div>
    </div>
  </div>
  
  <div class="row" *ngIf="cartItems.length > 0; else emptyCartMessage">
    <div *ngFor="let item of cartItems, let i = index" class="col-xs-12 col-lg-12 d-flex justify-content-center">
        <div class="card" style="width: 85%; margin-right: 40px; margin-bottom: 40px; background-color: white; border-color: #8F51EA;">
            <div class="row">
              <div class="col-md-3">
                <img src={{item.image}} class="card-img-top" alt="..." style="object-fit: contain; width: 100%; height: 250px;">
              </div>
              <div class="col-md-7">
                <div class="card-body text-center">
                    <h1 class="card-title" style="font-size: 20px; color: black;">{{item.name}}, {{item.selectedGender}}({{item.selectedSize}}) - {{item.selectedColor}}</h1>
                    <p class="card-text" style="font-size: 18px; color: black;">{{item.description}}</p>
                    <p class="card-text" style="font-weight: bolder; font-size: 18px; color: black;">{{item.price | currency}}</p>
                    <button class="buttonQty" (click)="decreaseQuantity(item)">
                        <p class="buttonQtyText">-</p>
                      </button>
                      <span class="quantity">{{item.quantity}}</span>
                    <button class="buttonQty" (click)="increaseQuantity(item)">
                        <p class="buttonQtyText">+</p>
                    </button>
                </div>
              </div>
              <div class="col-md-2">
                <div class="card-body text-center">
                    <h1 style="color: black; font-size: 30px;">SubTotal</h1>
                    <p class="card-text" style="font-weight: bolder; font-size: 18px; color: black;">{{(item.quantity != null && item.price != null) ? (item.quantity * item.price | currency) : "N/A"}};
                    </p>       
                </div>
                <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-danger" (click)="deleteItem(i)">Delete Item</button>
                </div>
              </div>
            </div>
          </div>      
    </div>
    <div class="d-flex justify-content-center">
      <h1 style="color: black; font-size: 40px;">Total</h1>
    </div>
    <div class="d-flex justify-content-center">
      <p class="card-text" style="font-weight: bolder; font-size: 28px; color: black;">{{getTotal() | currency}}</p>
    </div>
    <div class="d-flex justify-content-center">
      <button class="checkoutBtn" style="margin-top: 40px; margin-bottom: 40px;">
        <div class="star-5" style="margin-left: 10px;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"></path><path fill="currentColor" d="M5 13c0-5.088 2.903-9.436 7-11.182C16.097 3.564 19 7.912 19 13c0 .823-.076 1.626-.22 2.403l1.94 1.832a.5.5 0 0 1 .095.603l-2.495 4.575a.5.5 0 0 1-.793.114l-2.234-2.234a1 1 0 0 0-.707-.293H9.414a1 1 0 0 0-.707.293l-2.234 2.234a.5.5 0 0 1-.793-.114l-2.495-4.575a.5.5 0 0 1 .095-.603l1.94-1.832C5.077 14.626 5 13.823 5 13zm1.476 6.696l.817-.817A3 3 0 0 1 9.414 18h5.172a3 3 0 0 1 2.121.879l.817.817.982-1.8-1.1-1.04a2 2 0 0 1-.593-1.82c.124-.664.187-1.345.187-2.036 0-3.87-1.995-7.3-5-8.96C8.995 5.7 7 9.13 7 13c0 .691.063 1.372.187 2.037a2 2 0 0 1-.593 1.82l-1.1 1.039.982 1.8zM12 13a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"></path></svg>
        </div>
        <span style="margin-left: 20px;">Checkout</span>
      </button>
    </div>
  </div>
  
  <ng-template #emptyCartMessage>
    <div class="row justify-content-center text-center">
      <p style="font-size: 25px; color: black;">No items in the cart</p>
      <div class="col-sm-6 d-flex align-items-center justify-content-center text-center" style="margin-top: 10px;">
        <button class="headerBtn" (click)="redirect()">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-handbag" viewBox="0 0 16 16">
                <path d="M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 4V3a3 3 0 1 0-6 0v2H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11zm-1 1v1.5a.5.5 0 0 0 1 0V6h1.639a.5.5 0 0 1 .494.426l1.028 6.851A1.5 1.5 0 0 1 12.678 15H3.322a1.5 1.5 0 0 1-1.483-1.723l1.028-6.851A.5.5 0 0 1 3.36 6H5v1.5a.5.5 0 1 0 1 0V6h4z"/>
            </svg>
          <span class="headerBtnSpan">Continue Shopping</span>
        </button>
      </div>
    </div>
  </ng-template>
</div>
